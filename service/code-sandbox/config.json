{
  "name": "Code Runner Sandbox",
  "service_id": "code-sandbox",
  "description": "A sandbox environment for running code snippets safely.",
  "deploy": {
    "mode": "docker",
    "build_script": "build",
    "init_script": "init"
  },
  "inputs": {
    "source_file": {
      "type": "object",
      "description": "The source code file to be executed.",
      "properties": {
        "bucket": {
          "type": "string",
          "description": "Name of the bucket where the source file is stored."
        },
        "object_name": {
          "type": "string",
          "description": "Name of the source file object in the bucket."
        }
      }
    },
    "data_file": {
      "type": "object",
      "description": "The data file to be used by the code, if applicable.",
      "properties": {
        "bucket": {
          "type": "string",
          "description": "Name of the bucket where the data file is stored."
        },
        "object_name": {
          "type": "string",
          "description": "Name of the data file object in the bucket."
        }
      }
    },
    "command_file": {
      "type": "object",
      "description": "The command file containing the code to be executed, a bash script.",
      "properties": {
        "bucket": {
          "type": "string",
          "description": "Name of the bucket where the command file is stored."
        },
        "object_name": {
          "type": "string",
          "description": "Name of the command file object in the bucket."
        }
      }
    },
    "execution_timeout": {
      "type": "integer",
      "description": "Maximum time in seconds for the code execution.",
      "default": 60
    },
    "execution_memory": {
      "type": "integer",
      "description": "Maximum memory in MB for the code execution.",
      "default": 256
    },
    "sandbox_template": {
      "type": "string",
      "description": "Template for the sandbox environment. Automatically compile if language needs.",
      "options": [
        "gcc-13.3-cpp-std_17-O2",
        "gcc-13.3-cpp-std_11-O2",
        "gcc-13.3-c-std_11-O2",
        "gcc-13.3-c-std_17-O2",
        "rust-1.78",
        "rust-1.84",
        "pypy-3.10",
        "pypy-3.11",
        "python-3.12",
        "python-3.13",
        "java-8",
        "java-17",
        "java-21",
        "advanced"
      ]
    }
  },
  "outputs": {
    "results": {
      "type": "array",
      "description": "List of search results matching the keywords.",
      "items": {
        "type": "object",
        "properties": {
          "stdout": {
            "type": "string",
            "description": "Standard output from the code execution."
          },
          "stderr": {
            "type": "string",
            "description": "Standard error output from the code execution."
          },
          "exit_code": {
            "type": "integer",
            "description": "Exit code of the executed command."
          },
          "execution_time": {
            "type": "integer",
            "description": "Time taken for the code execution in milliseconds."
          },
          "memory_usage": {
            "type": "integer",
            "description": "Memory used during the code execution in MB."
          },
          "output_file": {
            "type": "object",
            "description": "Output file generated by the code execution, if applicable.",
            "properties": {
              "bucket": {
                "type": "string",
                "description": "Name of the bucket where the output file is stored."
              },
              "object_name": {
                "type": "string",
                "description": "Name of the output file object in the bucket."
              }
            }
          }
        }
      }
    }
  }
}